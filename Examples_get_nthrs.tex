\pagebreak
\chapter{The \code{omp\_get\_num\_threads} Routine}
\label{chap:get_nthrs}

In the following example, the \code{omp\_get\_num\_threads} call returns 1 in 
the sequential part of the code, so \code{np} will always be equal to 1. To determine 
the number of threads that will be deployed for the \code{parallel} region, the 
call should be inside the \code{parallel} region.

\cexample{get_nthrs}{1c}

\fexample{get_nthrs}{1f}

The following example shows how to rewrite this program without including a query 
for the number of threads:

\cexample{get_nthrs}{2c}

\fexample{get_nthrs}{2f}


